# soal no 1
# Contact Book menggunakan Dictionary
# Format penyimpanan: contacts = { "Nama": ["Nomor", "Email"] }

contacts = {}

def tampilkan_kontak():
    if not contacts:
        print("\nTidak ada kontak tersimpan.")
    else:
        print("\n=== Daftar Kontak ===")
        for nama, info in contacts.items():
            print(f"Nama : {nama}")
            print(f"Nomor: {info[0]}")
            print(f"Email: {info[1]}")
            print("----------------------")


def cari_kontak():
    nama = input("Masukkan nama kontak yang dicari: ")
    if nama in contacts:
        print("\nKontak ditemukan:")
        print(f"Nama : {nama}")
        print(f"Nomor: {contacts[nama][0]}")
        print(f"Email: {contacts[nama][1]}")
    else:
        print("\nKontak tidak ditemukan.")


def tambah_kontak():
    nama = input("Masukkan nama kontak: ")
    if nama in contacts:
        print("\nKontak dengan nama tersebut sudah ada.")
        return

    nomor = input("Masukkan nomor telepon (12 digit): ")

    # Validasi nomor telepon
    if not nomor.isdigit() or len(nomor) != 12:
        print("\nNomor telepon harus berisi tepat 12 angka!")
        return

    email = input("Masukkan email: ")
    contacts[nama] = [nomor, email]
    print("\nKontak berhasil ditambahkan!")


def update_email():
    nama = input("Masukkan nama kontak yang ingin diperbarui emailnya: ")
    if nama in contacts:
        email_baru = input("Masukkan email baru: ")
        contacts[nama][1] = email_baru
        print("\nEmail berhasil diperbarui!")
    else:
        print("\nKontak tidak ditemukan.")


def update_nama():
    nama_lama = input("Masukkan nama kontak yang ingin diganti: ")

    if nama_lama not in contacts:
        print("\nKontak tidak ditemukan.")
        return

    nama_baru = input("Masukkan nama baru: ")

    if nama_baru in contacts:
        print("\nNama baru sudah digunakan kontak lain!")
        return

    # Pindahkan data ke nama baru
    contacts[nama_baru] = contacts[nama_lama]
    del contacts[nama_lama]

    print("\nNama kontak berhasil diperbarui!")


def update_nomor():
    nama = input("Masukkan nama kontak yang ingin diperbarui nomornya: ")

    if nama not in contacts:
        print("\nKontak tidak ditemukan.")
        return

    nomor_baru = input("Masukkan nomor baru (12 digit): ")

    # Validasi nomor
    if not nomor_baru.isdigit() or len(nomor_baru) != 12:
        print("\nNomor telepon harus berisi tepat 12 angka!")
        return

    contacts[nama][0] = nomor_baru
    print("\nNomor telepon berhasil diperbarui!")


def hapus_kontak():
    nama = input("Masukkan nama kontak yang ingin dihapus: ")
    if nama in contacts:
        del contacts[nama]
        print("\nKontak berhasil dihapus!")
    else:
        print("\nKontak tidak ditemukan.")


# Menu utama
while True:
    print("""
=== CONTACT BOOK ===
1. Tampilkan semua kontak
2. Cari kontak
3. Tambah kontak
4. Perbarui email kontak
5. Perbarui nama kontak
6. Perbarui nomor kontak
7. Hapus kontak
8. Keluar
""")

    pilihan = input("Pilih menu (1-8): ")

    if pilihan == "1":
        tampilkan_kontak()
    elif pilihan == "2":
        cari_kontak()
    elif pilihan == "3":
        tambah_kontak()
    elif pilihan == "4":
        update_email()
    elif pilihan == "5":
        update_nama()
    elif pilihan == "6":
        update_nomor()
    elif pilihan == "7":
        hapus_kontak()
    elif pilihan == "8":
        print("Program selesai.")
        break
    else:
        print("Pilihan tidak valid, coba lagi.")

# soal no 2
# Program Manajemen Inventaris Gudang (CRUD)

inventaris = {}

def tampilkan_semua():
    print("\n=== DAFTAR SELURUH BARANG ===")
    if not inventaris:
        print("Data inventaris kosong.")
    else:
        for id_br, data in inventaris.items():
            print(f"ID: {id_br} | Nama: {data[0]} | Harga: {data[1]} | Stok: {data[2]}")
    print()


def cari_barang():
    id_cari = input("Masukkan ID barang: ").upper()
    if id_cari in inventaris:
        nama, harga, stok = inventaris[id_cari]
        print(f"Data ditemukan: {nama} | Harga: {harga} | Stok: {stok}")
    else:
        print("Barang dengan ID tersebut tidak ditemukan.")
    print()


def tambah_barang():
    id_baru = input("Masukkan ID baru: ").upper()

    if id_baru in inventaris:
        print("ID sudah ada! Gunakan ID lain.")
        return

    nama = input("Masukkan nama barang: ")
    harga = int(input("Masukkan harga barang: "))
    stok = int(input("Masukkan stok barang: "))

    inventaris[id_baru] = [nama, harga, stok]
    print("Barang berhasil ditambahkan!\n")


def update_stok():
    id_update = input("Masukkan ID barang yang ingin diperbarui: ").upper()

    if id_update not in inventaris:
        print("Barang tidak ditemukan.")
        return

    stok_baru = int(input("Masukkan stok baru (tidak boleh negatif): "))

    if stok_baru < 0:
        print("Stok tidak boleh negatif!")
        return

    inventaris[id_update][2] = stok_baru
    print("Stok berhasil diperbarui!\n")


def update_nama():
    id_update = input("Masukkan ID barang yang ingin diubah namanya: ").upper()

    if id_update not in inventaris:
        print("Barang tidak ditemukan.")
        return

    nama_baru = input("Masukkan nama baru: ")
    inventaris[id_update][0] = nama_baru
    print("Nama barang berhasil diperbarui!\n")


def update_harga():
    id_update = input("Masukkan ID barang yang ingin diubah harganya: ").upper()

    if id_update not in inventaris:
        print("Barang tidak ditemukan.")
        return

    harga_baru = input("Masukkan harga baru: ")
    inventaris[id_update][1] = harga_baru
    print("harga barang berhasil diperbarui!\n")


def update_id():
    id_lama = input("Masukkan ID barang yang ingin diganti: ").upper()

    if id_lama not in inventaris:
        print("Barang tidak ditemukan.")
        return

    id_baru = input("Masukkan ID baru: ").upper()

    if id_baru in inventaris:
        print("ID baru sudah digunakan! Pilih ID lain.")
        return

    # Pindahkan data ke ID baru
    inventaris[id_baru] = inventaris[id_lama]
    del inventaris[id_lama]

    print("ID barang berhasil diperbarui!\n")


def hapus_barang():
    id_hapus = input("Masukkan ID barang yang ingin dihapus: ").upper()

    if id_hapus in inventaris:
        del inventaris[id_hapus]
        print("Barang berhasil dihapus!\n")
    else:
        print("Barang tidak ditemukan.\n")


# MENU UTAMA
while True:
    print("=== MENU INVENTARIS GUDANG ===")
    print("1. Tampilkan semua barang")
    print("2. Cari barang berdasarkan ID")
    print("3. Tambah barang baru")
    print("4. Update stok barang")
    print("5. Update nama barang")
    print("6. Update ID barang")
    print("7. Update harga barang")
    print("8. Hapus barang")
    print("9. Keluar")

    pilihan = input("Pilih menu (1-8): ")

    if pilihan == "1":
        tampilkan_semua()
    elif pilihan == "2":
        cari_barang()
    elif pilihan == "3":
        tambah_barang()
    elif pilihan == "4":
        update_stok()
    elif pilihan == "5":
        update_nama()
    elif pilihan == "6":
        update_id()
    elif pilihan == "7":
        update_harga()
    elif pilihan == "8":
        hapus_barang()
    elif pilihan == "9":
        print("Program selesai. Terima kasih!")
        break
    else:
        print("Pilihan tidak valid.\n")

# soal no 3
# Program Validasi Kupon Diskon untuk Sistem Kasir

kupon = {
    "HEMAT10": 10,
    "DISKON20": 20,
    "PROMO50": 50
}

def tampilkan_kupon():
    print("\n=== DAFTAR KUPON TERSEDIA ===")
    if not kupon:
        print("Tidak ada kupon tersedia.")
    else:
        for kode, diskon in kupon.items():
            print(f"Kode: {kode} | Diskon: {diskon}%")
    print()


def proses_transaksi():
    total_belanja = float(input("Masukkan total belanja: "))
    kode = input("Masukkan kode kupon (atau kosongkan jika tidak pakai): ").upper()

    if kode == "":
        print(f"Total yang harus dibayar: Rp {total_belanja:.2f}\n")
        return

    if kode not in kupon:
        print("Kode kupon tidak valid atau sudah digunakan!\n")
        return

    diskon = kupon[kode]
    potongan = total_belanja * (diskon / 100)
    total_akhir = total_belanja - potongan

    print(f"Kupon valid! Diskon {diskon}%")
    print(f"Potongan: Rp {potongan:.2f}")
    print(f"Total bayar setelah diskon: Rp {total_akhir:.2f}")

    # Hapus kupon setelah digunakan
    del kupon[kode]
    print("Kupon telah digunakan dan dihapus dari sistem.\n")


# MENU UTAMA
while True:
    print("=== SISTEM VALIDASI KUPON DISKON ===")
    print("1. Tampilkan semua kupon")
    print("2. Proses transaksi dengan kupon")
    print("3. Keluar")

    pilihan = input("Pilih menu (1-3): ")

    if pilihan == "1":
        tampilkan_kupon()
    elif pilihan == "2":
        proses_transaksi()
    elif pilihan == "3":
        print("Terima kasih! Program selesai.")
        break
    else:
        print("Pilihan tidak valid!\n")
